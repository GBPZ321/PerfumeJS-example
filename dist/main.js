(()=>{"use strict";var e,t,n={isResourceTiming:!1,isElementTiming:!1,maxTime:3e4,reportOptions:{}},r=window,i=r.console,a=r.navigator,o=r.performance,u=function(){return a.deviceMemory},c=function(){return a.hardwareConcurrency},s=function(){return o&&!!o.getEntriesByType&&!!o.now&&!!o.mark},f="4g",d=!1,l={value:0},m={value:{beacon:0,css:0,fetch:0,img:0,other:0,script:0,total:0,xmlhttprequest:0}},v={value:0},p={value:0},T={},g={isHidden:!1,didChange:!1},h=function(){g.isHidden=!1,document.hidden&&(g.isHidden=document.hidden,g.didChange=!0)},y=function(e,t){try{var n=new PerformanceObserver((function(e){t(e.getEntries())}));return n.observe({type:e,buffered:!0}),n}catch(e){i.warn("Perfume.js:",e)}return null},k=function(){return!!(c()&&c()<=4)||!!(u()&&u()<=4)},S=function(e,t){switch(e){case"slow-2g":case"2g":case"3g":return!0;default:return k()||t}},b=function(e){return parseFloat(e.toFixed(4))},E=function(e){return"number"!=typeof e?null:b(e/Math.pow(1024,2))},w=function(e,t,i,o,s){var l,m=function(){n.analyticsTracker&&(g.isHidden&&!["CLS","INP"].includes(e)||n.analyticsTracker({attribution:o,metricName:e,data:t,navigatorInformation:a?{deviceMemory:u()||0,hardwareConcurrency:c()||0,serviceWorkerStatus:"serviceWorker"in a?a.serviceWorker.controller?"controlled":"supported":"unsupported",isLowEndDevice:k(),isLowEndExperience:S(f,d)}:{},rating:i,navigationType:s}))};["CLS","INP"].includes(e)?m():(l=m,"requestIdleCallback"in r?r.requestIdleCallback(l,{timeout:3e3}):l())},C=function(e){e.forEach((function(e){if(!("self"!==e.name||e.startTime<l.value)){var t=e.duration-50;t>0&&(v.value+=t,p.value+=t)}}))};!function(e){e.instant="instant",e.quick="quick",e.moderate="moderate",e.slow="slow",e.unavoidable="unavoidable"}(e||(e={})),(t={})[e.instant]={vitalsThresholds:[100,200],maxOutlierThreshold:1e4},t[e.quick]={vitalsThresholds:[200,500],maxOutlierThreshold:1e4},t[e.moderate]={vitalsThresholds:[500,1e3],maxOutlierThreshold:1e4},t[e.slow]={vitalsThresholds:[1e3,2e3],maxOutlierThreshold:1e4},t[e.unavoidable]={vitalsThresholds:[2e3,5e3],maxOutlierThreshold:2e4};var L,M,x,B,P,I={RT:[100,200],TBT:[200,600],NTBT:[200,600]},F=function(e,t){return I[e]?t<=I[e][0]?"good":t<=I[e][1]?"needsImprovement":"poor":null},O=function(e,t,n){Object.keys(t).forEach((function(e){"number"==typeof t[e]&&(t[e]=b(t[e]))})),w(e,t,null,n||{})},D=function(e){var t=e.attribution,r=e.name,i=e.rating,a=e.value,o=e.navigationType;"FCP"===r&&(l.value=a),["FCP","LCP"].includes(r)&&!T[0]&&(T[0]=y("longtask",C)),"FID"===r&&setTimeout((function(){g.didChange||(D({attribution:t,name:"TBT",rating:F("TBT",v.value),value:v.value,navigationType:o}),O("dataConsumption",m.value))}),1e4);var u=b(a);u<=n.maxTime&&u>=0&&w(r,u,i,t,o)},R=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},q=function(e){if("loading"===document.readyState)return"loading";var t=R();if(t){if(e<t.domInteractive)return"loading";if(0===t.domContentLoadedEventStart||e<t.domContentLoadedEventStart)return"dom-interactive";if(0===t.domComplete||e<t.domComplete)return"dom-content-loaded"}return"complete"},A=function(e){var t=e.nodeName;return 1===e.nodeType?t.toLowerCase():t.toUpperCase().replace(/^#/,"")},N=function(e,t){var n="";try{for(;e&&9!==e.nodeType;){var r=e,i=r.id?"#"+r.id:A(r)+(r.classList&&r.classList.value&&r.classList.value.trim()&&r.classList.value.trim().length?"."+r.classList.value.trim().replace(/\s+/g,"."):"");if(n.length+i.length>(t||100)-1)return n||i;if(n=n?i+">"+n:i,r.id)break;e=r.parentNode}}catch(e){}return n},H=-1,j=function(){return H},z=function(e){addEventListener("pageshow",(function(t){t.persisted&&(H=t.timeStamp,e(t))}),!0)},W=function(){var e=R();return e&&e.activationStart||0},J=function(e,t){var n=R(),r="navigate";return j()>=0?r="back-forward-cache":n&&(document.prerendering||W()>0?r="prerender":document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},_=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(e){}},U=function(e,t,n,r){var i,a;return function(o){t.value>=0&&(o||r)&&((a=t.value-(i||0))||void 0===i)&&(i=t.value,t.delta=a,t.rating=function(e,t){return e>t[1]?"poor":e>t[0]?"needs-improvement":"good"}(t.value,n),e(t))}},V=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},G=function(e){var t=function(t){"pagehide"!==t.type&&"hidden"!==document.visibilityState||e(t)};addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0)},K=function(e){var t=!1;return function(n){t||(e(n),t=!0)}},Q=-1,X=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},Y=function(e){"hidden"===document.visibilityState&&Q>-1&&(Q="visibilitychange"===e.type?e.timeStamp:0,$())},Z=function(){addEventListener("visibilitychange",Y,!0),addEventListener("prerenderingchange",Y,!0)},$=function(){removeEventListener("visibilitychange",Y,!0),removeEventListener("prerenderingchange",Y,!0)},ee=function(){return Q<0&&(Q=X(),Z(),z((function(){setTimeout((function(){Q=X(),Z()}),0)}))),{get firstHiddenTime(){return Q}}},te=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},ne=[1800,3e3],re=function(e,t){t=t||{},te((function(){var n,r=ee(),i=J("FCP"),a=_("paint",(function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(a.disconnect(),e.startTime<r.firstHiddenTime&&(i.value=Math.max(e.startTime-W(),0),i.entries.push(e),n(!0)))}))}));a&&(n=U(e,i,ne,t.reportAllChanges),z((function(r){i=J("FCP"),n=U(e,i,ne,t.reportAllChanges),V((function(){i.value=performance.now()-r.timeStamp,n(!0)}))})))}))},ie=[.1,.25],ae={passive:!0,capture:!0},oe=new Date,ue=function(e,t){L||(L=t,M=e,x=new Date,fe(removeEventListener),ce())},ce=function(){if(M>=0&&M<x-oe){var e={entryType:"first-input",name:L.type,target:L.target,cancelable:L.cancelable,startTime:L.timeStamp,processingStart:L.timeStamp+M};B.forEach((function(t){t(e)})),B=[]}},se=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var n=function(){ue(e,t),i()},r=function(){i()},i=function(){removeEventListener("pointerup",n,ae),removeEventListener("pointercancel",r,ae)};addEventListener("pointerup",n,ae),addEventListener("pointercancel",r,ae)}(t,e):ue(t,e)}},fe=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,se,ae)}))},de=[100,300],le=0,me=1/0,ve=0,pe=function(e){e.forEach((function(e){e.interactionId&&(me=Math.min(me,e.interactionId),ve=Math.max(ve,e.interactionId),le=ve?(ve-me)/7+1:0)}))},Te=function(){return P?le:performance.interactionCount||0},ge=[200,500],he=0,ye=function(){return Te()-he},ke=[],Se={},be=function(e){var t=ke[ke.length-1],n=Se[e.interactionId];if(n||ke.length<10||e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{var r={id:e.interactionId,latency:e.duration,entries:[e]};Se[r.id]=r,ke.push(r)}ke.sort((function(e,t){return t.latency-e.latency})),ke.splice(10).forEach((function(e){delete Se[e.id]}))}},Ee=[2500,4e3],we={},Ce=[800,1800],Le=function e(t){document.prerendering?te((function(){return e(t)})):"complete"!==document.readyState?addEventListener("load",(function(){return e(t)}),!0):setTimeout(t,0)},Me=function(e,t){t=t||{};var n=J("TTFB"),r=U(e,n,Ce,t.reportAllChanges);Le((function(){var i=R();if(i){var a=i.responseStart;if(a<=0||a>performance.now())return;n.value=Math.max(a-W(),0),n.entries=[i],r(!0),z((function(){n=J("TTFB",0),(r=U(e,n,Ce,t.reportAllChanges))(!0)}))}}))},xe=function(e){e.forEach((function(e){e.identifier&&D({attribution:{identifier:e.identifier},name:"ET",rating:null,value:e.startTime})}))},Be=function(e){e.forEach((function(e){if(n.isResourceTiming&&O("resourceTiming",e),e.decodedBodySize&&e.initiatorType){var t=e.decodedBodySize/1e3;m.value[e.initiatorType]+=t,m.value.total+=t}}))},Pe=function(){!function(e,t){Me((function(e){!function(e){if(e.entries.length){var t=e.entries[0],n=t.activationStart||0,r=Math.max(t.domainLookupStart-n,0),i=Math.max(t.connectStart-n,0),a=Math.max(t.requestStart-n,0);e.attribution={waitingTime:r,dnsTime:i-r,connectionTime:a-i,requestTime:e.value-a,navigationEntry:t}}else e.attribution={waitingTime:0,dnsTime:0,connectionTime:0,requestTime:0}}(e),function(e){e.value>0&&D(e)}(e)}),t)}(0,n.reportOptions.ttfb),function(e,t){!function(e,t){t=t||{},re(K((function(){var n,r=J("CLS",0),i=0,a=[],o=function(e){e.forEach((function(e){if(!e.hadRecentInput){var t=a[0],n=a[a.length-1];i&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(i+=e.value,a.push(e)):(i=e.value,a=[e])}})),i>r.value&&(r.value=i,r.entries=a,n())},u=_("layout-shift",o);u&&(n=U(e,r,ie,t.reportAllChanges),G((function(){o(u.takeRecords()),n(!0)})),z((function(){i=0,r=J("CLS",0),n=U(e,r,ie,t.reportAllChanges),V((function(){return n()}))})),setTimeout(n,0))})))}((function(e){!function(e){if(e.entries.length){var t=e.entries.reduce((function(e,t){return e&&e.value>t.value?e:t}));if(t&&t.sources&&t.sources.length){var n=(r=t.sources).find((function(e){return e.node&&1===e.node.nodeType}))||r[0];if(n)return void(e.attribution={largestShiftTarget:N(n.node),largestShiftTime:t.startTime,largestShiftValue:t.value,largestShiftSource:n,largestShiftEntry:t,loadState:q(t.startTime)})}}var r;e.attribution={}}(e),function(e){D(e)}(e)}),t)}(0,n.reportOptions.cls),function(e,t){re((function(e){!function(e){if(e.entries.length){var t=R(),n=e.entries[e.entries.length-1];if(t){var r=t.activationStart||0,i=Math.max(0,t.responseStart-r);return void(e.attribution={timeToFirstByte:i,firstByteToFCP:e.value-i,loadState:q(e.entries[0].startTime),navigationEntry:t,fcpEntry:n})}}e.attribution={timeToFirstByte:0,firstByteToFCP:e.value,loadState:q(j())}}(e),function(e){D(e)}(e)}),t)}(0,n.reportOptions.fcp),function(e,t){!function(e,t){t=t||{},te((function(){var n,r=ee(),i=J("FID"),a=function(e){e.startTime<r.firstHiddenTime&&(i.value=e.processingStart-e.startTime,i.entries.push(e),n(!0))},o=function(e){e.forEach(a)},u=_("first-input",o);n=U(e,i,de,t.reportAllChanges),u&&G(K((function(){o(u.takeRecords()),u.disconnect()}))),u&&z((function(){var r;i=J("FID"),n=U(e,i,de,t.reportAllChanges),B=[],M=-1,L=null,fe(addEventListener),r=a,B.push(r),ce()}))}))}((function(e){!function(e){var t=e.entries[0];e.attribution={eventTarget:N(t.target),eventType:t.name,eventTime:t.startTime,eventEntry:t,loadState:q(t.startTime)}}(e),function(e){D(e)}(e)}),t)}(0,n.reportOptions.fid),function(e,t){!function(e,t){t=t||{},te((function(){var n,r=ee(),i=J("LCP"),a=function(e){var t=e[e.length-1];t&&t.startTime<r.firstHiddenTime&&(i.value=Math.max(t.startTime-W(),0),i.entries=[t],n())},o=_("largest-contentful-paint",a);if(o){n=U(e,i,Ee,t.reportAllChanges);var u=K((function(){we[i.id]||(a(o.takeRecords()),o.disconnect(),we[i.id]=!0,n(!0))}));["keydown","click"].forEach((function(e){addEventListener(e,(function(){return setTimeout(u,0)}),!0)})),G(u),z((function(r){i=J("LCP"),n=U(e,i,Ee,t.reportAllChanges),V((function(){i.value=performance.now()-r.timeStamp,we[i.id]=!0,n(!0)}))}))}}))}((function(e){!function(e){if(e.entries.length){var t=R();if(t){var n=t.activationStart||0,r=e.entries[e.entries.length-1],i=r.url&&performance.getEntriesByType("resource").filter((function(e){return e.name===r.url}))[0],a=Math.max(0,t.responseStart-n),o=Math.max(a,i?(i.requestStart||i.startTime)-n:0),u=Math.max(o,i?i.responseEnd-n:0),c=Math.max(u,r?r.startTime-n:0),s={element:N(r.element),timeToFirstByte:a,resourceLoadDelay:o-a,resourceLoadTime:u-o,elementRenderDelay:c-u,navigationEntry:t,lcpEntry:r};return r.url&&(s.url=r.url),i&&(s.lcpResourceEntry=i),void(e.attribution=s)}}e.attribution={timeToFirstByte:0,resourceLoadDelay:0,resourceLoadTime:0,elementRenderDelay:e.value}}(e),function(e){D(e)}(e)}),t)}(0,n.reportOptions.lcp),function(e,t){!function(e,t){t=t||{},te((function(){var n;"interactionCount"in performance||P||(P=_("event",pe,{type:"event",buffered:!0,durationThreshold:0}));var r,i=J("INP"),a=function(e){e.forEach((function(e){e.interactionId&&be(e),"first-input"===e.entryType&&!ke.some((function(t){return t.entries.some((function(t){return e.duration===t.duration&&e.startTime===t.startTime}))}))&&be(e)}));var t,n=(t=Math.min(ke.length-1,Math.floor(ye()/50)),ke[t]);n&&n.latency!==i.value&&(i.value=n.latency,i.entries=n.entries,r())},o=_("event",a,{durationThreshold:null!==(n=t.durationThreshold)&&void 0!==n?n:40});r=U(e,i,ge,t.reportAllChanges),o&&("interactionId"in PerformanceEventTiming.prototype&&o.observe({type:"first-input",buffered:!0}),G((function(){a(o.takeRecords()),i.value<0&&ye()>0&&(i.value=0,i.entries=[]),r(!0)})),z((function(){ke=[],he=Te(),i=J("INP"),r=U(e,i,ge,t.reportAllChanges)})))}))}((function(t){!function(e){if(e.entries.length){var t=e.entries.sort((function(e,t){return t.duration-e.duration||t.processingEnd-t.processingStart-(e.processingEnd-e.processingStart)}))[0];e.attribution={eventTarget:N(t.target),eventType:t.name,eventTime:t.startTime,eventEntry:t,loadState:q(t.startTime)}}else e.attribution={}}(t),e(t)}),t)}((function(e){return D(e)}),n.reportOptions.inp),n.isResourceTiming&&y("resource",Be),n.isElementTiming&&y("element",xe)},Ie=function(e){var t="usageDetails"in e?e.usageDetails:{};O("storageEstimate",{quota:E(e.quota),usage:E(e.usage),caches:E(t.caches),indexedDB:E(t.indexedDB),serviceWorker:E(t.serviceWorkerRegistrations)})},Fe={finalMarkToStepsMap:{},startMarkToStepsMap:{},active:{},navigationSteps:{}};function Oe(){}Oe.prototype.track=function(e,t){console.log(e," ",JSON.stringify(t))};const De=new Oe;!function(e){if(void 0===e&&(e={}),n.analyticsTracker=e.analyticsTracker,n.isResourceTiming=!!e.resourceTiming,n.isElementTiming=!!e.elementTiming,n.maxTime=e.maxMeasureTime||n.maxTime,n.reportOptions=e.reportOptions||n.reportOptions,n.steps=e.steps,n.onMarkStep=e.onMarkStep,s()){"PerformanceObserver"in r&&Pe(),void 0!==document.hidden&&document.addEventListener("visibilitychange",h);var t=function(){if(!s())return{};var e=o.getEntriesByType("navigation")[0];if(!e)return{};var t=e.responseStart,n=e.responseEnd;return{fetchTime:n-e.fetchStart,workerTime:e.workerStart>0?n-e.workerStart:0,totalTime:n-e.requestStart,downloadTime:n-t,timeToFirstByte:t-e.requestStart,headerSize:e.transferSize-e.encodedBodySize||0,dnsLookupTime:e.domainLookupEnd-e.domainLookupStart,redirectTime:e.redirectEnd-e.redirectStart}}();O("navigationTiming",t),t.redirectTime&&D({attribution:{},name:"RT",rating:F("RT",t.redirectTime),value:t.redirectTime}),O("networkInformation",function(){if("connection"in a){var e=a.connection;return"object"!=typeof e?{}:(f=e.effectiveType,d=!!e.saveData,{downlink:e.downlink,effectiveType:e.effectiveType,rtt:e.rtt,saveData:!!e.saveData})}return{}}()),a&&a.storage&&"function"==typeof a.storage.estimate&&a.storage.estimate().then(Ie),n.steps&&n.steps&&(Fe.startMarkToStepsMap={},Fe.finalMarkToStepsMap={},Fe.active={},Fe.navigationSteps={},Object.entries(n.steps).forEach((function(e){var t,n,r=e[0],i=e[1].marks,a=i[0],o=i[1],u=null!==(n=Fe.startMarkToStepsMap[a])&&void 0!==n?n:{};if(u[r]=!0,Fe.startMarkToStepsMap[a]=u,Fe.finalMarkToStepsMap[o]){var c=Fe.finalMarkToStepsMap[o][a]||[];c.push(r),Fe.finalMarkToStepsMap[o][a]=c}else Fe.finalMarkToStepsMap[o]=((t={})[a]=[r],t)})))}}({analyticsTracker:e=>{const{attribution:t,metricName:n,data:r,navigatorInformation:i,rating:a,navigationType:o}=e;switch(n){case"navigationTiming":r&&r.timeToFirstByte&&De.track("navigationTiming",r);break;case"networkInformation":r&&r.effectiveType&&De.track("networkInformation",r);break;case"storageEstimate":De.track("storageEstimate",r);break;case"TTFB":De.track("timeToFirstByte",{duration:r});break;case"RT":De.track("redirectTime",{duration:r});break;case"FCP":De.track("firstContentfulPaint",{duration:r});break;case"FID":De.track("firstInputDelay",{duration:r});break;case"LCP":De.track("largestContentfulPaint",{duration:r});break;case"CLS":De.track("cumulativeLayoutShift",{value:r});break;case"INP":De.track("interactionToNextPaint",{value:r});break;case"TBT":De.track("totalBlockingTime",{duration:r});break;case"elPageTitle":De.track("elementTimingPageTitle",{duration:r});break;case"userJourneyStep":De.track("userJourneyStep",{duration:r,stepName:t.step_name,vitals_score:a});break;default:De.track(n,{duration:r})}}})})();